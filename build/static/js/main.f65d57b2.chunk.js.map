{"version":3,"sources":["utils/constants.js","components/ProtectedRoute/ProtectedRoute.js","components/Input/Input.js","components/Button/Button.js","components/PopupWithForm/PopupWithForm.js","utils/useFormWithValidation.js","components/Login/Login.js","components/Register/Register.js","components/InfoTooltip/InfoTooltip.js","components/Link/Link.js","components/SignOutButton/SignOutButton.js","contexts/CurrentUserContext.js","components/Navigation/Navigation.js","components/Logo/Logo.js","components/Menu/Menu.js","components/Header/Header.js","components/SearhForm/SearchForm.js","components/About/About.js","components/BookmarkButton/BookmarkButton.js","contexts/NewsContext.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/Preloader/Preloader.js","components/Main/Main.js","utils/utils.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","images/fb.svg","images/github.svg","components/Footer/Footer.js","utils/NewsApi.js","errors/bad-request-err.js","errors/unauthorized-err.js","utils/MainApi.js","components/App/App.js","index.js"],"names":["DATE_LOCALES","DATE_OPTIONS","year","month","day","dateFrom","Intl","DateTimeFormat","format","Date","now","dateTo","NEWS_API_OPTIONS","baseUrl","from","to","pageSize","apiKey","headers","module","exports","DELETECARD_ERR","CARDS_PER_ROW","LOADNEWS_ERR","KEYWORD_ERR","SAVEDNEWS_ERR","BASE_URL","UNAUTHORIZED_ERR","BAD_REQUEST_ERR","ProtectedRoute","Component","component","props","isLoggedIn","Input","inputLabelClassName","formName","label","name","type","value","minLength","maxLength","required","inputFieldClassName","placeholder","disabled","isValid","errorMessage","onChange","className","htmlFor","id","Button","buttonClassName","children","onClick","PopupWithForm","isOpen","onSubmit","onClose","onChangeForm","submitButtonText","isFormValid","authError","useFormWithValidation","useState","setValue","setErrorMessage","setIsValid","useCallback","evt","target","validationMessage","validity","valid","Login","onLogin","emailField","passwordField","preventDefault","autoComplete","Register","onRegister","nameField","InfoTooltip","Link","linkClassName","activeLinkClassName","path","activeClassName","exact","SignOutButton","viewBox","preserveAspectRatio","fill","xmlns","fillRule","clipRule","d","CurrentUserContext","React","createContext","Navigation","pathname","isMenuOpened","navigationClassName","onSignOut","currentUser","useContext","Logo","logoClassName","Menu","onMenuClick","useLocation","menuClassName","Header","setMenuOpened","headerClassName","SearchForm","onSearch","isLoading","searchField","noValidate","About","src","alt","BookmarkButton","isSaved","width","height","strokeWidth","NewsContext","NewsCard","onCardClick","article","keyword","title","description","publishedAt","url","urlToImage","source","savedNews","some","i","newDate","fullDate","toLocaleString","getFullYear","tooltipText","href","rel","NewsCardList","newsToRender","map","index","Preloader","Main","isError","onShowMore","currentRow","isSearchSuccess","news","slice","length","articlesDeclension","array","SavedNewsHeader","keywords","item","keywordsSorted","Set","quantity","filter","str","sort","a","b","keywordsToRender","join","adjectiveDeclination","SavedNews","Footer","ghIcon","fbIcon","getNews","parameters","fetch","then","res","ok","json","Promise","reject","status","sendRequest","BadRequestError","message","rest","Error","UnauthorizedError","require","getUserInfo","token","method","err","data","App","escape","history","useHistory","setLoggedIn","setAuthError","isSearchError","setSearchError","isRegisterOpen","setRegisterOpen","isLoginOpen","setLoginOpen","setCurrentUser","setCurrentRow","isTooltipOpen","setTooltipOpen","setLoading","setNews","setSearchSuccess","setSavedNews","setDisabled","getSavedNews","localStorage","getItem","catch","console","error","handlePopupsClose","handleTogglePopup","handleDeleteArticle","_id","useEffect","jwt","mainApi","localStorageNews","JSON","parse","closeOnEsc","key","document","addEventListener","removeEventListener","Provider","removeItem","push","newsApi","articles","setItem","stringify","finally","saved","find","credentials","body","newArticle","email","password","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f65d57b2.chunk.js","sourcesContent":["const BASE_URL = 'https://api.newsapp.me';\n\nconst DATE_LOCALES = \"fr-CA\";\nconst DATE_OPTIONS = { year: \"numeric\", month: \"2-digit\", day: \"2-digit\" };\nconst WEEK = 7 * 24 * 60 * 60 * 1000;\nconst CARDS_PER_ROW = 3;\n\nconst dateFrom = new Intl.DateTimeFormat(DATE_LOCALES, DATE_OPTIONS).format(Date.now() - WEEK);\nconst dateTo = new Intl.DateTimeFormat(DATE_LOCALES, DATE_OPTIONS).format(Date.now());\n\nconst NEWS_API_OPTIONS = {\n  baseUrl: 'https://nomoreparties.co/news/v2/everything',\n  from: `from=${dateFrom}`,\n  to: `to=${dateTo}`,\n  pageSize: 'pageSize=100',\n  apiKey: 'apiKey=19099c172d26417a8c40212cb48a6045',\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded',\n  },\n};\n\nconst SAVEDNEWS_ERR = 'Ошибка при загрузке сохранённых новостей'\nconst UNAUTHORIZED_ERR = 'Пользователь с таким email не найден';\nconst BAD_REQUEST_ERR = 'Не передано одно из полей';\nconst KEYWORD_ERR = 'Введите ключевое слово';\nconst LOADNEWS_ERR = 'Ошибка при загрузке новостей';\nconst DELETECARD_ERR = 'Ошибка при удалении карточки';\n\nmodule.exports = {\n  DELETECARD_ERR,\n  CARDS_PER_ROW,\n  LOADNEWS_ERR,\n  KEYWORD_ERR,\n  SAVEDNEWS_ERR,\n  NEWS_API_OPTIONS,\n  BASE_URL,\n  UNAUTHORIZED_ERR,\n  BAD_REQUEST_ERR\n};\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n  <Route>\n    {\n      () => (props.isLoggedIn ? <Component {...props} /> : <Redirect from='/saved-news' to='/' />)\n    }\n  </Route>\n);\n\nexport default ProtectedRoute;","import React from 'react';\nimport './Input.css';\n\nfunction Input(props) {\n\n  const {\n    inputLabelClassName,\n    formName,\n    label,\n    name,\n    type,\n    value,\n    minLength,\n    maxLength,\n    required,\n    inputFieldClassName,\n    placeholder,\n    disabled,\n    isValid,\n    errorMessage,\n    onChange\n  } = props;\n\n  return (\n    <label className={`input ${inputLabelClassName}`} htmlFor={`${name}_${formName}`}>{label}\n      <input\n        type={type}\n        value={value}\n        minLength={minLength}\n        maxLength={maxLength}\n        required={required}\n        id={`${name}_${formName}`}\n        onChange={onChange}\n        className={`input__field ${inputFieldClassName}`}\n        placeholder={placeholder}\n        disabled={disabled}>\n      </input>\n      <span\n        className={`input__error ${name}__input-error ${!isValid && `${name}__input-error_active`}`}\n        id={`${name}-error`}>\n        {errorMessage}\n      </span>\n    </label>\n  )\n}\n\nexport default Input;","import React from 'react';\nimport './Button.css';\n\nfunction Button({ type, buttonClassName, children, onClick, disabled }) {\n  return (\n    <button\n      type={type} className={`button ${buttonClassName}`\n      } onClick={onClick} disabled={disabled}>\n      { children}\n    </button >\n  )\n}\n\nexport default Button;","import React from 'react';\nimport Button from '../Button/Button';\nimport './PopupWithForm.css';\n\nfunction PopupWithForm({\n  isOpen,\n  onSubmit,\n  onClose,\n  formName,\n  onChangeForm,\n  children,\n  submitButtonText,\n  isFormValid,\n  authError,\n  disabled\n}) {\n\n  return (\n    <div className={`popup popup_type_${formName} ${isOpen && 'popup_opened'}`}>\n      <div\n        className='popup__overlay'\n        onClick={onClose}>\n      </div>\n      <form\n        className={`popup__form ${formName}__form`}\n        name={formName}\n        onSubmit={onSubmit}>\n        <button\n          type='reset'\n          className='popup__close-button'\n          onClick={onClose} />\n        <fieldset\n          className='popup__input-container'\n          disabled={disabled}>\n          {children}\n        </fieldset>\n        {formName !== 'tooltip' &&\n          <>\n            <span className='popup__error'>{authError}</span>\n            <Button\n              buttonClassName='popup__submit'\n              onClick={onSubmit}\n              disabled={!isFormValid}>\n              {submitButtonText}\n            </Button>\n          </>\n        }\n        <span className='popup__subtitle'>{formName !== 'tooltip' && 'или '}\n          <span className='popup__link' onClick={onChangeForm}>\n            {formName !== 'login' ? 'Войти' : 'Зарегистрироваться'}</span></span>\n      </form>\n    </div >\n  );\n}\n\nexport default PopupWithForm;","import { useState, useCallback } from 'react';\n\nexport const useFormWithValidation = () => {\n  const [value, setValue] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [isValid, setIsValid] = useState(false);\n  const onChange = useCallback((evt) => {\n    setValue(evt.target.value);\n    setErrorMessage(evt.target.validationMessage);\n    setIsValid(evt.target.validity.valid);\n  }, []);\n  return { value, setValue, errorMessage, setErrorMessage, isValid, setIsValid, onChange };\n};","import React from 'react';\nimport Input from '../Input/Input';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport { useFormWithValidation } from '../../utils/useFormWithValidation';\n\nfunction Login({ isOpen, onClose, disabled, onChangeForm, onLogin, authError }) {\n\n  const emailField = useFormWithValidation();\n  const passwordField = useFormWithValidation();\n\n  function handleLogin(evt) {\n    evt.preventDefault();\n    onLogin(emailField.value, passwordField.value);\n  };\n\n  function handleClose() {\n    emailField.setErrorMessage('');\n    emailField.setValue('');\n    passwordField.setErrorMessage('');\n    passwordField.setValue('');\n    emailField.setIsValid(false);\n    passwordField.setIsValid(false);\n    onClose();\n  };\n\n  return (\n    <PopupWithForm\n      formName='login'\n      isOpen={isOpen}\n      onClose={handleClose}\n      onChangeForm={onChangeForm}\n      isFormValid={emailField.isValid && passwordField.isValid}\n      onSubmit={handleLogin}\n      disabled={disabled}\n      submitButtonText='Войти'>\n      <legend className='popup__heading'>Вход</legend>\n      <Input\n        label='Email'\n        name='email'\n        formName='log'\n        type='email'\n        minLength='6'\n        maxLength='30'\n        required={true}\n        autoComplete='email'\n        {...emailField}\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите почту' />\n      <Input\n        label='Пароль'\n        name='password'\n        formName='log'\n        type='password'\n        minLength='8'\n        maxLength='30'\n        required={true}\n        autoComplete='password'\n        {...passwordField}\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите пароль' />\n    </PopupWithForm>\n  )\n}\n\nexport default Login;","import React from 'react';\nimport Input from '../Input/Input';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport { useFormWithValidation } from '../../utils/useFormWithValidation';\n\nfunction Register({\n  isOpen,\n  onClose,\n  disabled,\n  onChangeForm,\n  onRegister,\n  authError\n}) {\n\n  const emailField = useFormWithValidation();\n  const nameField = useFormWithValidation();\n  const passwordField = useFormWithValidation();\n\n  function handleRegister(evt) {\n    evt.preventDefault();\n    onRegister(emailField.value, passwordField.value, nameField.value);\n  };\n\n  function handleClose() {\n    nameField.setValue('');\n    onClose();\n  };\n\n  return (\n    <PopupWithForm\n      formName='registration'\n      isOpen={isOpen}\n      onClose={handleClose}\n      onChangeForm={onChangeForm}\n      onSubmit={handleRegister}\n      isFormValid={emailField.isValid && passwordField.isValid && nameField.isValid}\n      disabled={disabled}\n      authError={authError}\n      submitButtonText='Зарегистрироваться'>\n      <legend className='popup__heading'>Регистрация</legend>\n      <Input label='Email'\n        name='email'\n        formName='reg'\n        minLength='6'\n        maxLength='30'\n        type='email'\n        required={true}\n        autoComplete='email'\n        {...emailField}\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите почту' />\n      <Input\n        label='Пароль'\n        name='password'\n        formName='reg'\n        minLength='8'\n        maxLength='30'\n        type='password'\n        required={true}\n        autoComplete='password'\n        {...passwordField}\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите пароль' />\n      <Input\n        label='Имя'\n        name='name'\n        formName='reg'\n        minLength='2'\n        maxLength='30'\n        type='text'\n        required={true}\n        {...nameField}\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите имя' />\n    </PopupWithForm>\n  )\n}\n\nexport default Register;","import React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport './InfoTooltip.css';\n\nfunction InfoTooltip({ isOpen, onClose, onChangeForm }) {\n  return (\n    <PopupWithForm\n      formName='tooltip'\n      isOpen={isOpen}\n      onClose={onClose}\n      onChangeForm={onChangeForm}>\n      <legend className='popup__heading'>Пользователь успешно зарегистрирован!</legend>\n    </PopupWithForm>\n  );\n}\n\nexport default InfoTooltip;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Link.css';\n\nfunction Link({ linkClassName, activeLinkClassName, path, children }) {\n  return (\n    <NavLink\n      className={`link ${linkClassName}`}\n      activeClassName={activeLinkClassName}\n      exact to={path}>{children}</NavLink>\n  )\n}\n\nexport default Link;","import React from 'react';\nimport './SignOutButton.css';\n\nfunction SignOutButton() {\n  return (\n    <svg className='signout-button' viewBox=\"0 0 24 24\"\n    preserveAspectRatio=\"xMidYMin slice \"\n    fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M10 6L6 6L6 18H10V20H6C4.89543 20 4 19.1046 4 18V6C4 4.89543 4.89543 4 6 4H10V6ZM17.5856 13L13.2927 17.1339L14.707 18.4958L21.4141 12.0371L14.707 5.57837L13.2927 6.9402L17.5856 11.0741H8V13H17.5856Z\"\n      fill=\"currentColor\" />\n  </svg >\n  )\n}\n\nexport default SignOutButton;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\nimport './Navigation.css';\nimport Link from '../Link/Link';\nimport Button from '../Button/Button';\nimport SignOutButton from '../SignOutButton/SignOutButton';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Navigation({\n  isLoggedIn,\n  pathname,\n  onClick,\n  isMenuOpened,\n  navigationClassName,\n  onSignOut\n}) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const linkClassName = `nav__item ${(pathname === '/' || isMenuOpened) ? 'nav__item_white' : 'nav__item_dark'}`;\n  const buttonClassName = `${linkClassName} nav__button ${isMenuOpened ? 'nav__button_mobile' : ''}`;\n\n  return (\n    <nav className={`nav__list ${navigationClassName}`}>\n      <Link\n        linkClassName={linkClassName}\n        activeLinkClassName='nav__item_active'\n        path='/'>Главная</Link>\n      {\n        isLoggedIn &&\n        (<Link\n          linkClassName={linkClassName}\n          activeLinkClassName='nav__item_active'\n          path='/saved-news'>Сохраненные статьи\n        </Link>)\n      }\n      <Button\n        buttonClassName={buttonClassName}\n        isMenuOpened={isMenuOpened}\n        onClick={isLoggedIn ? onSignOut : onClick}>\n        <span className='nav__button-text'>\n          {\n            isLoggedIn ? currentUser.name :\n              'Авторизоваться'\n          }\n        </span>\n        {\n          isLoggedIn &&\n          <SignOutButton />\n        }\n      </Button>\n    </nav>\n  )\n}\n\nexport default Navigation;\n","import React from 'react';\nimport Link from '../Link/Link';\nimport './Logo.css';\n\nfunction Logo({ pathname }) {\n  const logoClassName = `header__logo ${(pathname === '/') ? 'logo_white' : 'logo_dark'}`;\n  return (\n    <Link path='/' linkClassName='logo__link'>\n      <h1 className={logoClassName}>NewsExplorer</h1>\n    </Link>\n  )\n}\n\nexport default Logo;","import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport './Menu.css';\n\nfunction Menu({ onMenuClick, isMenuOpened }) {\n  const { pathname } = useLocation();\n  const menuClassName =\n    `menu ${isMenuOpened ? 'menu_opened' : 'menu_closed'}\n    ${pathname === '/' ? 'menu_white' : 'menu_dark'}`;\n\n  return (\n    <button\n      className={menuClassName}\n      onClick={onMenuClick}>\n      <span></span>\n    </button>\n  )\n}\n\nexport default Menu;","import React, { useState } from 'react';\nimport './Header.css';\nimport Navigation from '../Navigation/Navigation';\nimport Logo from '../Logo/Logo';\nimport Menu from '../Menu/Menu';\nimport { useLocation } from 'react-router-dom';\n\nfunction Header({ isLoggedIn, onClick, onSignOut }) {\n  const [isMenuOpened, setMenuOpened] = useState(false);\n\n  const { pathname } = useLocation();\n\n  const headerClassName = `header__section ${isMenuOpened ? 'header_mobile' : ''}`;\n  const navigationClassName = ` ${isMenuOpened ? 'header__nav_mobile nav__list_active' : ''}`;\n  const handleMenuOpen = () => setMenuOpened(!isMenuOpened);\n\n  return (\n    <header className={headerClassName}>\n      <Logo\n        isMenuOpened={isMenuOpened}\n        pathname={pathname}\n      />\n      <Menu\n        isMenuOpened={isMenuOpened}\n        onMenuClick={handleMenuOpen}\n        pathname={pathname} />\n      <Navigation\n        navigationClassName={navigationClassName}\n        isLoggedIn={isLoggedIn}\n        onSignOut={onSignOut}\n        pathname={pathname}\n        onClick={onClick}\n        isMenuOpened={isMenuOpened}\n      />\n    </header>\n  )\n}\n\nexport default Header;","import React from 'react';\nimport './SearchForm.css';\nimport Button from '../Button/Button';\nimport Input from '../Input/Input';\nimport { useFormWithValidation } from '../../utils/useFormWithValidation';\n\nfunction SearchForm({ onSearch, isLoading }) {\n\n  const searchField = useFormWithValidation();\n\n  function handleSubmit(evt) {\n    const { value, setErrorMessage } = searchField;\n    evt.preventDefault();\n    onSearch(value, setErrorMessage);\n  }\n\n  return (\n    <div className='search'>\n      <div>\n        <h2 className='search__header'>Что творится в&nbsp;мире?</h2>\n        <p className='search__subtitle'>Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\n      </div>\n      <form className='search__form' onSubmit={handleSubmit} noValidate>\n        <Input\n          name='search'\n          type='text'\n          {...searchField}\n          placeholder='Введите тему новости'\n          disabled={isLoading}\n          inputFieldClassName='search__input-field'\n          inputLabelClassName='search__input' />\n        <Button\n          type='submit'\n          buttonClassName='search__button'>Искать</Button>\n      </form>\n    </div>\n  )\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport './About.css';\n\nfunction About(props) {\n  return (\n    <section className='about'>\n      <img\n        className='about__image'\n        src='https://bigpicture.ru/wp-content/uploads/2018/06/750608b3-1274-4fff-8766-8b0a8995ee43_850.jpg'\n        alt='Аватар автора.'\n      />\n      <div className='about__container'>\n        <h2 className='about__header'>\n          Об авторе\n        </h2>\n        <p className='about__text'>\n          Это блок с описанием автора проекта. Здесь следует указать, как вас зовут, чем вы занимаетесь, какими технологиями разработки владеете.\n        </p>\n        <p className='about__text'>\n          Также можно рассказать о процессе обучения в Практикуме, чему вы тут научились, и чем можете помочь потенциальным заказчикам.        </p>\n      </div>\n    </section>\n  )\n}\n\nexport default About;","import React from 'react';\nimport './BookmarkButton.css';\n\nfunction BookmarkButton({ pathname, isSaved }) {\n  return (\n    <>\n      { (pathname === '/' && !isSaved) &&\n        (<svg className='bookmark-button-icon bookmark-button-icon_bookmark'\n          width=\"14\" height=\"19\" viewBox=\"0 0 14 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M6.38218 12.7137L1 16.9425V1L13 1V16.9425L7.61782 12.7137L7 12.2283L6.38218 12.7137Z\" strokeWidth=\"2\" />\n        </svg>)\n      }\n      { (pathname === '/' && isSaved) &&\n        (<svg className='bookmark-button-icon bookmark-button-icon_saved'\n          width=\"14\" height=\"19\" viewBox=\"0 0 14 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M0 1C0 0.447715 0.447715 0 1 0H13C13.5523 0 14 0.447715 14 1V19L7 13.5L0 19V1Z\" />\n        </svg>)\n      }\n      { pathname !== '/' &&\n        (<svg className='bookmark-button-icon bookmark-button-icon_del'\n          width=\"18\" height=\"19\" viewBox=\"0 0 18 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12 0H6V2H0V4H18V2H12V0ZM2 6V17C2 18.1046 2.89543 19 4 19H14C15.1046 19 16 18.1046 16 17V6H14V17H4V6H2ZM6 6L6 15H8L8 6H6ZM10 6V15H12V6H10Z\" />\n        </svg>)\n      }\n    </>\n  )\n}\n\nexport default BookmarkButton;","import React from 'react';\n\nexport const NewsContext = React.createContext();","import React, { useContext } from 'react';\nimport './NewsCard.css';\nimport BookmarkButton from '../BookmarkButton/BookmarkButton';\nimport { NewsContext } from '../../contexts/NewsContext';\nimport { useLocation } from 'react-router-dom';\n\nfunction NewsCard({ isLoggedIn, onCardClick, article }) {\n  const { keyword, title, description, publishedAt, url, urlToImage, source } = article;\n\n  const { savedNews } = useContext(NewsContext);\n  const { pathname } = useLocation();\n  const isSaved = isLoggedIn\n    && savedNews.some((i) => i.publishedAt === article.publishedAt\n      && i.title === article.title);\n\n  const options = {\n    month: 'long',\n    day: 'numeric',\n  };\n\n  const newDate = new Date(publishedAt);\n  const dayAndMonth = newDate.toLocaleString('ru', options);\n  const fullDate = dayAndMonth + ', ' + newDate.getFullYear();\n\n  const tooltipText =\n    (!isLoggedIn)\n      ? 'Войдите, чтобы сохранять статьи'\n      : `${isSaved && 'Убрать из сохранённых'}`;\n\n  function handleCardButtonClick() {\n    onCardClick(article);\n  }\n\n  return (\n    <li className='card'>\n      {\n        pathname === '/saved-news' &&\n        <span className='card__element card__keyword'>{keyword}</span>\n      }\n      <button\n        type='button'\n        className='card__element card__button'\n        onClick={handleCardButtonClick}>\n        <BookmarkButton\n          pathname={pathname}\n          isSaved={isSaved}\n        />\n      </button>\n      {\n        (!isLoggedIn || (isLoggedIn && isSaved)) &&\n        <span className={`card__element card__tooltip`}>{tooltipText}</span>\n      }\n      <div className='card__img-wrapper'>\n        <img\n          src={urlToImage}\n          alt={title}\n          className='card__image'\n        />\n      </div>\n      <div className='card__content'>\n        <span className='card__date'>{fullDate}</span>\n        <h2 className='card__title'>{title}</h2>\n        <p className='card__text'>{description}</p>\n        <a\n          href={url}\n          target='_blank'\n          rel='noopener noreferrer'\n          className='card__source'>\n          {\n            pathname === '/' ? source.name : source\n          }\n        </a>\n      </div>\n    </li >\n  )\n}\n\nexport default NewsCard;","import React from 'react';\nimport './NewsCardList.css';\nimport NewsCard from '../NewsCard/NewsCard';\n\nfunction NewsCardList({\n  isLoggedIn,\n  onCardClick,\n  newsToRender,\n  savedNews }) {\n\n  return (\n    <section className='news-card-list'>\n      <ul className='news-card-list__wrapper'>\n        {newsToRender.map((article, index) => (\n          <NewsCard\n            article={article}\n            key={index}\n            isLoggedIn={isLoggedIn}\n            savedNews={savedNews}\n            onCardClick={onCardClick}\n          />\n        ))}\n      </ul>\n    </section>\n  )\n}\n\nexport default NewsCardList;\n","import React from 'react';\nimport './Preloader.css';\n\nfunction Preloader() {\n  return (\n    <div className='preloader__container'>\n      <div className='preloader'>\n        <i className='preloader__spinner'></i>\n        <span className='preloader__text'>Идет поиск новостей...</span>\n      </div>\n    </div>\n  )\n}\n\nexport default Preloader;","import React, { useContext } from 'react';\nimport SearchForm from '../SearhForm/SearchForm';\nimport About from '../About/About';\nimport NewsCardList from '../NewsCardList/NewsCardList';\nimport Preloader from '../Preloader/Preloader';\nimport Button from '../Button/Button';\nimport { NewsContext } from '../../contexts/NewsContext';\nimport { CARDS_PER_ROW } from '../../utils/constants';\nimport './Main.css';\n\nfunction Main({\n  isError,\n  onCardClick,\n  onSearch,\n  onShowMore,\n  currentRow,\n  isLoading,\n  isLoggedIn,\n  isSearchSuccess }) {\n  const { news, savedNews } = useContext(NewsContext);\n  const newsToRender = news.slice(0, (currentRow + 1) * CARDS_PER_ROW);\n\n  return (\n    <section className='main'>\n      <SearchForm\n        onSearch={onSearch}\n        isLoading={isLoading}\n      />\n      {\n        isLoading && (<Preloader />)\n      }\n      {\n        isSearchSuccess &&\n        <div className='main__news-container'>\n          {\n            newsToRender.length ? (<>\n              <h2 className='main__news-heading'>Результаты поиска</h2>\n              <NewsCardList\n                newsToRender={newsToRender}\n                isLoggedIn={isLoggedIn}\n                savedNews={savedNews}\n                onCardClick={onCardClick}\n                currentRow={currentRow}\n              />\n              {\n                newsToRender.length !== news.length &&\n                (<Button buttonClassName='main__show-more' onClick={onShowMore}>\n                  Показать еще\n                </Button>)\n              }\n            </>)\n              : (<div className='main__not-found'>\n                <span className='main__not-found-icon'></span>\n                <h3 className='main__not-found-heading'>Ничего не найдено</h3>\n                <p className='main__not-found-text'>К сожалению по вашему запросу ничего не найдено.</p>\n              </div>)\n          }\n        </div>\n      }\n      {\n        isError && (<div className='main__news-container'>\n          <div className='main__not-found'>\n            <h3 className='main__not-found-heading'>Во время запроса произошла ошибка</h3>\n            <p className='main__not-found-text'>Возможно, проблема с соединением или сервер недоступен.\n              Подождите немного и попробуйте ещё раз.</p>\n          </div>\n        </div>)\n      }\n      <About />\n    </section >\n  )\n};\n\nexport default Main;","export const articlesDeclension = (array) => {\n  return ['статья', 'статьи', 'статей'][\n    array.length === 0 && 0\n      && array.length % 10 === 1 && array.length % 100 !== 11\n      ? 0\n      : array.length % 10 >= 2\n        && array.length % 10 <= 4 && (array.length % 100 < 10 || array.length % 100 >= 20)\n        ? 1\n        : 2];\n}\n\nexport const numberDeclension = (array) => {\n  return ['му', 'м', 'и'][\n    array.slice(3).length % 10 === 1\n      && array.slice(3).length % 100 !== 11\n      ? 0\n      : array.slice(3).length % 10 >= 2\n        && array.slice(3).length % 10 <= 4\n        && (array.slice(3).length % 100 < 10 || array.slice(3).length % 100 >= 20)\n        ? 1\n        : 2];\n}\n\nexport const adjectiveDeclination = (array) => {\n  return ['другому', 'другим'][\n    array.slice(3).length % 10 === 1\n      && array.slice(3).length % 100 !== 11\n      ? 0\n      : 1];\n}","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { NewsContext } from '../../contexts/NewsContext';\nimport { articlesDeclension, numberDeclension, adjectiveDeclination } from '../../utils/utils';\nimport './SavedNewsHeader.css';\n\nfunction SavedNewsHeader({ isLoggedIn }) {\n  const currentUser = useContext(CurrentUserContext);\n  const { savedNews } = useContext(NewsContext);\n\n  const keywords = isLoggedIn ? savedNews.map(item => item.keyword) : [];\n\n  const keywordsSorted = [...new Set(keywords)]\n    .map(value => {\n      const item = {};\n      item.keyword = value;\n      item.quantity = keywords.filter(str => str === value).length;\n      return item;\n    })\n    .sort((a, b) => b.quantity - a.quantity)\n    .map(item => item.keyword);\n\n  const keywordsToRender = keywordsSorted.length <= 3\n    ? keywordsSorted.join(', ')\n    : `${keywordsSorted\n      .slice(0, 3)\n      .join(', ')} и ${keywordsSorted\n        .slice(3)\n        .length}-${numberDeclension(keywordsSorted)} ${adjectiveDeclination(keywordsSorted)}`;\n\n  return (\n    <div className='saved-news-header'>\n      <p className='saved-news-header__title'>Сохранённые статьи</p>\n      <h2 className='saved-news-header__heading'>\n        {currentUser.name}, у вас {savedNews.length} сохранённых {articlesDeclension(savedNews)}</h2>\n      <p className='saved-news-header__keywords-list'>По ключевым словам:&nbsp;\n      <span className='saved-news-header__keywords'>{keywordsToRender}</span></p>\n    </div>\n  )\n}\n\nexport default SavedNewsHeader;","import React, { useContext } from 'react';\nimport NewsCardList from '../NewsCardList/NewsCardList';\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\nimport { NewsContext } from '../../contexts/NewsContext';\n\nimport './SavedNews.css';\n\nfunction SavedNews({ isLoggedIn, onCardClick }) {\n  const { savedNews } = useContext(NewsContext);\n\n  return (\n    <div className='saved-news'>\n      <SavedNewsHeader\n        isLoggedIn={isLoggedIn}\n      />\n      <NewsCardList\n        newsToRender={savedNews}\n        isLoggedIn={isLoggedIn}\n        onCardClick={onCardClick}\n      />\n    </div >\n  )\n}\n\nexport default SavedNews;","export default __webpack_public_path__ + \"static/media/fb.60abc816.svg\";","export default __webpack_public_path__ + \"static/media/github.df660a36.svg\";","import React from 'react';\nimport Link from '../Link/Link';\nimport fbIcon from '../../images/fb.svg';\nimport ghIcon from '../../images/github.svg';\nimport './Footer.css';\n\nfunction Footer(props) {\n  return (\n    <footer className='footer'>\n      <p className='footer__credits'>\n        &copy; 2020 Supersite, Powered by News API\n      </p>\n      <ul className='footer__list'>\n        <li>\n          <Link path='/' linkClassName='footer__link'>Главная</Link>\n        </li>\n        <li>\n          <a\n            href='https://praktikum.yandex.ru/'\n            className='footer__link'\n            target='_blank'\n            rel='noopener noreferrer'>Яндекс.Практикум</a>\n        </li>\n      </ul>\n      <ul className='footer__media'>\n        <li>\n          <a\n            href='https://github.com/bambambarabam'\n            target='_blank'\n            rel='noopener noreferrer'>\n            <img className='footer__icon' src={ghIcon} alt='Ссылка на Гитхаб.'\n            />\n          </a>\n        </li>\n        <li>\n          <a\n            href='https://www.facebook.com/yandex.praktikum/'\n            target='_blank'\n            rel='noopener noreferrer'>\n            <img className='footer__icon' src={fbIcon} alt='Ссылка на Фейсбук.'\n            />\n          </a>\n        </li>\n      </ul>\n    </footer>\n  )\n}\n\nexport default Footer;","import { NEWS_API_OPTIONS } from './constants';\nconst { baseUrl, from, to, pageSize, apiKey, headers } = NEWS_API_OPTIONS;\n\nexport function sendRequest(keyword, parameters) {\n  return fetch(`${baseUrl}?q=${keyword}&${from}&${to}&${pageSize}&${apiKey}`,\n    parameters)\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(res.status);\n    })\n}\n\nexport function getNews(keyword) {\n  return sendRequest(keyword, { headers });\n}\n","class BadRequestError extends Error {\n  constructor(message, ...rest) {\n    super(...rest);\n    this.status = 400;\n    this.message = message;\n  }\n}\n\nexport default BadRequestError;","class UnauthorizedError extends Error {\n  constructor(message, ...rest) {\n    super(...rest);\n    this.status = 401;\n    this.message = message;\n  }\n}\n\nexport default UnauthorizedError;","import BadRequestError from '../errors/bad-request-err';\nimport UnauthorizedError from '../errors/unauthorized-err';\nconst { BASE_URL, UNAUTHORIZED_ERR, BAD_REQUEST_ERR } = require('../utils/constants');\n\nexport const register = (email, password, name) => fetch(`${BASE_URL}/signup`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Credentials': true,\n  },\n  body: JSON.stringify({ email, password, name }),\n})\n  .then((res) => {\n    if (!res.ok) {\n      return res.json()\n        .then((err) => {\n          if (err.error) {\n            throw new BadRequestError(err.error);\n          } else {\n            throw new BadRequestError(err.message);\n          }\n        });\n    }\n    return res.json();\n  });\n\nexport const authorize = (email, password) => fetch(`${BASE_URL}/signin`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Credentials': true,\n  },\n  credentials: 'same-origin',\n  body: JSON.stringify({ email, password }),\n})\n  .then((res) => {\n    if (res.status === 400) {\n      throw new BadRequestError({ message: BAD_REQUEST_ERR });\n    }\n    else if (res.status === 401) {\n      throw new UnauthorizedError({ message: UNAUTHORIZED_ERR });\n    }\n    return res.json();\n  })\n  .then((data) => {\n    if (data.token) {\n      localStorage.setItem('jwt', data.token);\n      return data.token;\n    }\n  });\n\nexport const getUserInfo = (token) => fetch(`${BASE_URL}/users/me`, {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    'Authorization': `Bearer ${token}`,\n  },\n})\n  .then((res) => {\n    if (!res.ok) {\n      return res.json()\n        .then((err) => {\n          throw new UnauthorizedError(err.message);\n        });\n    }\n    return res.json()\n  })\n  .then((data) => data);\n\nexport const getSavedNews = () => {\n  return fetch(`${BASE_URL}/articles`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n    }\n  })\n    .then((res) => {\n      return res.json();\n    });\n}\n\nexport const saveArticle = (article) => {\n  const { keyword, title, description, publishedAt, source, url, urlToImage } = article;\n\n  return fetch(`${BASE_URL}/articles`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n    },\n    credentials: 'same-origin',\n    body: JSON.stringify({\n      keyword,\n      title,\n      description,\n      publishedAt,\n      source: source.name,\n      url,\n      urlToImage,\n    }),\n  })\n    .then((res) => {\n      return res.json();\n    });\n}\n\nexport const deleteArticle = (id) => {\n  return fetch(`${BASE_URL}/articles/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n    },\n  });\n};","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory, useLocation } from 'react-router-dom';\nimport './App.css';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport Login from '../Login/Login';\nimport Register from '../Register/Register';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport SavedNews from '../SavedNews/SavedNews';\nimport Footer from '../Footer/Footer';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport { NewsContext } from '../../contexts/NewsContext';\nimport * as newsApi from '../../utils/NewsApi';\nimport * as mainApi from '../../utils/MainApi';\nconst { SAVEDNEWS_ERR, KEYWORD_ERR, LOADNEWS_ERR, DELETECARD_ERR } = require('../../utils/constants');\n\nfunction App() {\n  const escape = require('escape-html');\n  const history = useHistory();\n  const { pathname } = useLocation();\n\n  const [isLoggedIn, setLoggedIn] = useState(false);\n  const [authError, setAuthError] = useState('');\n  const [isSearchError, setSearchError] = useState(false);\n  const [isRegisterOpen, setRegisterOpen] = useState(false);\n  const [isLoginOpen, setLoginOpen] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [currentRow, setCurrentRow] = useState(0);\n  const [isTooltipOpen, setTooltipOpen] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [news, setNews] = useState([]);\n  const [isSearchSuccess, setSearchSuccess] = useState(false);\n  const [savedNews, setSavedNews] = useState([]);\n  const [disabled, setDisabled] = useState(false);\n\n  useEffect(() => {\n    (!isLoggedIn && pathname === '/saved-news') && setLoginOpen(true);\n  }, [isLoggedIn, pathname]);\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      mainApi.getUserInfo(jwt)\n        .then((data) => {\n          setLoggedIn(true);\n          setCurrentUser(data);\n          getSavedNews();\n        })\n        .catch((err) => console.error(err))\n    }\n  }, []);\n\n  useEffect(() => {\n    const localStorageNews = JSON.parse(localStorage.getItem('news'));\n    if (localStorageNews && localStorageNews.length) {\n      setNews(localStorageNews);\n      setSearchSuccess(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    function closeOnEsc(evt) {\n      if (evt.key === 'Escape' || evt.key === 'Esc') {\n        handlePopupsClose();\n      }\n    }\n    document.addEventListener('keyup', closeOnEsc);\n    return () => {\n      document.removeEventListener('keyup', closeOnEsc);\n    };\n  }, []);\n\n  function handleShowMore() {\n    setCurrentRow(currentRow + 1);\n  };\n\n  function getSavedNews() {\n    mainApi.getSavedNews()\n      .then((news) => {\n        setSavedNews(news)\n      })\n      .catch(err => console.error({ message: `${SAVEDNEWS_ERR} ${err.message}` }))\n  };\n\n  function handleLoginPopupOpen() {\n    setLoginOpen(true);\n  };\n\n  function handleNewsSearch(keyword, setErrorMessage) {\n    if (!keyword) {\n      setErrorMessage(KEYWORD_ERR);\n      return;\n    }\n    setLoading(true);\n    setSearchSuccess(false);\n    setNews([]);\n    setCurrentRow(0);\n    newsApi\n      .getNews(keyword)\n      .then((res) => {\n        const news = res.articles.map((item) => ({\n          ...item, keyword\n        }));\n        setNews(news);\n        localStorage.setItem('news', JSON.stringify(news));\n        setSearchSuccess(true);\n        setSearchError(false);\n      })\n      .catch((err) => {\n        console.error({ message: `${LOADNEWS_ERR} ${err.message}` });\n        setSearchError(true);\n      })\n      .finally(() => setLoading(false));\n  };\n\n  function handlePopupsClose() {\n    setRegisterOpen(false);\n    setLoginOpen(false);\n    setTooltipOpen(false);\n  };\n\n  function handleTogglePopup() {\n    setLoginOpen(!isLoginOpen);\n    setRegisterOpen(!isRegisterOpen);\n  };\n\n  function handleOpenLogin() {\n    setTooltipOpen(false);\n    setLoginOpen(true);\n  };\n\n  function handleArticleClick(article) {\n    if (!isLoggedIn)\n      return setRegisterOpen(true);\n    const saved = savedNews.find((i) => i.publishedAt === article.publishedAt\n      && i.title === article.title);\n    if (!saved) {\n      mainApi.saveArticle(article)\n        .then(newArticle => setSavedNews([newArticle.data, ...savedNews]))\n        .catch((err) => console.error(err));\n      return;\n    }\n    handleDeleteArticle(saved);\n  };\n\n  function handleDeleteArticle(article) {\n    mainApi.deleteArticle(article._id)\n      .then(() => setSavedNews(savedNews.filter((item) => item._id !== article._id)))\n      .catch((err) => console.error({ message: `${DELETECARD_ERR} ${err.message}` }));\n  };\n\n  function handleRegister(email, password, name) {\n    setDisabled(true);\n    mainApi.register(email, escape(password), name)\n      .then((res) => {\n        setRegisterOpen(false);\n        setTooltipOpen(true);\n      })\n      .catch((err) => setAuthError(err.message))\n      .finally(() => setDisabled(false));\n  };\n\n  function handleLogin(email, password) {\n    setDisabled(true);\n    mainApi.authorize(email, escape(password))\n      .then((res) => {\n        mainApi.getUserInfo(res)\n          .then((data) => setCurrentUser(data))\n          .catch((err) => setAuthError(err.message));\n        setLoggedIn(true);\n        setLoginOpen(false);\n        getSavedNews();\n      })\n      .catch((err) => setAuthError(err.message))\n      .finally(() => setDisabled(false));\n  };\n\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    setCurrentUser({});\n    history.push('/');\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <NewsContext.Provider value={{ news, savedNews }}>\n        <div className='app'>\n          <Header\n            isLoggedIn={isLoggedIn}\n            onClick={handleLoginPopupOpen}\n            onSignOut={handleSignOut}\n          />\n          <Switch>\n            <Route exact path='/'>\n              <Main\n                isLoggedIn={isLoggedIn}\n                isLoading={isLoading}\n                isError={isSearchError}\n                onSearch={handleNewsSearch}\n                onCardClick={handleArticleClick}\n                onShowMore={handleShowMore}\n                isSearchSuccess={isSearchSuccess}\n                currentRow={currentRow}\n              />\n            </Route>\n            <ProtectedRoute\n              path='/saved-news'\n              component={SavedNews}\n              isLoggedIn={isLoggedIn}\n              onCardClick={handleDeleteArticle}\n            />\n          </Switch>\n          <Footer />\n\n          <Register\n            authError={authError}\n            isOpen={isRegisterOpen}\n            onClose={handlePopupsClose}\n            onChangeForm={handleTogglePopup}\n            onRegister={handleRegister}\n          />\n          <Login\n            authError={authError}\n            isOpen={isLoginOpen}\n            onChangeForm={handleTogglePopup}\n            onLogin={handleLogin}\n            onClose={handlePopupsClose}\n            disabled={disabled}\n          />\n          <InfoTooltip\n            isOpen={isTooltipOpen}\n            onClose={handlePopupsClose}\n            onChangeForm={handleOpenLogin}\n            disabled={disabled}\n          />\n        </div>\n      </NewsContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}